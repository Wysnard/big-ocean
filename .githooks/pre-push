#!/bin/sh

# Pre-push hook: Runs lint and tests before pushing
# This ensures code quality before pushing to remote
# Bypass with: git push --no-verify

echo "ğŸ” Running pre-push checks..."

# Run linting
echo "ğŸ“ Running lint..."
pnpm lint
LINT_EXIT=$?

if [ $LINT_EXIT -ne 0 ]; then
  echo "âŒ Lint failed. Fix lint errors before pushing."
  exit 1
fi

# # Run tests
# echo "ğŸ§ª Running tests..."
# pnpm test:run
# TEST_EXIT=$?

# if [ $TEST_EXIT -ne 0 ]; then
#   echo "âŒ Tests failed. Fix failing tests before pushing."
#   exit 1
# fi

echo "âœ… All pre-push checks passed!"
exit 0
