<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Direction 3: Narrative Chapters â€” Assessment Chat</title>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&family=JetBrains+Mono&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#FFF8F0;--fg:#1A1A2E;--primary:#FF0080;--secondary:#FF6B2B;
  --tertiary:#00B4A6;--card:#FFF0E8;--muted:#6B6580;--border:#FFD6C4;
  --trait-o:#7B2FBE;--trait-c:#D4722A;--trait-e:#E0307B;--trait-a:#00B4A6;--trait-n:#1A1A5E;
  --chapter-accent:var(--trait-o);
}
body{font-family:'DM Sans',sans-serif;color:var(--fg);background:var(--bg);margin:0}

/* NAV */
nav{position:fixed;top:0;left:0;right:0;z-index:100;padding:16px 24px;display:flex;justify-content:space-between;align-items:center;background:rgba(255,248,240,.95);backdrop-filter:blur(14px);border-bottom:1px solid var(--border)}
.logo{font-family:'Space Grotesk',sans-serif;font-weight:700;font-size:1.1rem;display:flex;align-items:center;gap:8px}
.logo .dot{width:9px;height:9px;border-radius:50%;background:var(--primary)}

/* CHAPTER BREADCRUMBS */
.breadcrumbs{display:flex;gap:10px;align-items:center}
.crumb{width:12px;height:12px;border-radius:50%;background:var(--border);transition:all .3s;cursor:pointer}
.crumb.active{background:var(--chapter-accent);transform:scale(1.4)}
.crumb.complete{background:var(--muted)}

/* CHAT */
.chat-container{max-width:750px;margin:0 auto;padding:100px 24px 160px;min-height:100vh}

/* CHAPTER CARD */
.chapter-card{background:linear-gradient(135deg,var(--chapter-accent),rgba(255,0,128,.7));color:#fff;border-radius:20px;padding:60px 40px;text-align:center;margin:40px 0;opacity:0;transform:scale(.95);transition:all .6s cubic-bezier(.16,1,.3,1)}
.chapter-card.vis{opacity:1;transform:scale(1)}
.chapter-number{font-family:'JetBrains Mono',monospace;font-size:.7rem;letter-spacing:.15em;opacity:.7;margin-bottom:8px}
.chapter-title{font-family:'Space Grotesk',sans-serif;font-size:2rem;font-weight:700;margin-bottom:12px}
.chapter-tagline{font-size:1rem;opacity:.85;font-style:italic}
.chapter-shape{font-size:4rem;margin:20px 0;animation:float 3s ease-in-out infinite}
@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}

/* MESSAGES */
.msg{display:flex;gap:11px;margin-bottom:20px;opacity:0;transform:translateY(20px);transition:all .5s cubic-bezier(.16,1,.3,1)}
.msg.vis{opacity:1;transform:translateY(0)}
.msg.n{flex-direction:row}
.msg.u{flex-direction:row-reverse}
.av{width:36px;height:36px;border-radius:50%;flex-shrink:0;display:flex;align-items:center;justify-content:center;font-size:.8rem;font-weight:700;font-family:'Space Grotesk',sans-serif;transition:all .3s}
.msg.n .av{background:linear-gradient(135deg,var(--tertiary),var(--primary));color:#fff}
.msg.u .av{background:var(--card);border:1px solid var(--border)}
.bub{padding:16px 20px;border-radius:16px;max-width:85%;font-size:.92rem;line-height:1.65;background:var(--card);border:1px solid var(--border);transition:all .3s}
.msg.n .bub{border-bottom-left-radius:5px}
.msg.u .bub{background:linear-gradient(120deg,var(--primary),var(--secondary));color:#fff;border:none;border-bottom-right-radius:5px}

/* CHAPTER SUMMARY CARD */
.summary-card{background:var(--card);border:2px solid var(--chapter-accent);border-radius:16px;padding:24px;margin:30px 0;opacity:0;transform:translateY(20px);transition:all .6s}
.summary-card.vis{opacity:1;transform:translateY(0)}
.summary-card h4{font-family:'Space Grotesk',sans-serif;font-size:1rem;color:var(--chapter-accent);margin-bottom:12px;display:flex;align-items:center;gap:8px}
.summary-card .score{font-size:2rem;font-weight:700;color:var(--chapter-accent);margin:16px 0}
.summary-card .next{font-size:.85rem;color:var(--muted);margin-top:16px;font-style:italic}

/* INPUT */
.chat-input-bar{position:fixed;bottom:0;left:0;right:0;padding:16px 24px;display:flex;justify-content:center;gap:10px;background:rgba(255,248,240,.95);backdrop-filter:blur(14px);border-top:1px solid var(--border)}
.chat-input{flex:1;max-width:650px;padding:13px 20px;border-radius:12px;font-family:'DM Sans',sans-serif;font-size:.9rem;outline:none;border:1px solid var(--border);background:#fff}
.send-btn{background:linear-gradient(120deg,var(--primary),var(--secondary));color:#fff;border:none;padding:13px 26px;border-radius:12px;font-family:'Space Grotesk',sans-serif;font-weight:600;cursor:pointer;transition:transform .2s}
.send-btn:hover{transform:translateY(-1px)}

@media(max-width:768px){
  .chapter-card{padding:40px 24px}
  .chapter-title{font-size:1.5rem}
}
</style>
</head>
<body>

<nav>
  <div class="logo"><span class="dot"></span> Big Ocean</div>
  <div class="breadcrumbs" id="breadcrumbs">
    <div class="crumb active"></div>
    <div class="crumb"></div>
    <div class="crumb"></div>
    <div class="crumb"></div>
    <div class="crumb"></div>
  </div>
</nav>

<div class="chat-container" id="chat">
  <!-- Content added by JS -->
</div>

<div class="chat-input-bar">
  <input type="text" class="chat-input" placeholder="Type your response...">
  <button class="send-btn">Send</button>
</div>

<script>
const chapters = [
  {
    num:1,
    title:'Openness',
    tagline:'Your appetite for the unknown',
    shape:'ðŸ”µ',
    color:'#7B2FBE',
    messages:[
      {type:'n',text:'Welcome to our journey. Over the next 30 minutes, we\'ll explore five dimensions of who you areâ€”each one a chapter in your story.'},
      {type:'n',text:'Let\'s begin with <strong>Openness</strong>â€”your relationship with novelty, imagination, and intellectual exploration.'},
      {type:'u',text:'I\'m ready!'},
      {type:'n',text:'Perfect. Tell me: When was the last time you tried something completely new, just for the sake of experiencing it?'},
      {type:'u',text:'Last month I took an improv comedy class despite being terrified. It was exhilarating.'},
      {type:'n',text:'Beautiful. That adventurous spirit is exactly what Openness captures. Do you find yourself drawn more to abstract ideas or concrete, practical problems?'},
      {type:'u',text:'Definitely abstract ideas. I love theories and conceptual frameworks.'},
    ],
    summary:'You have a vibrant intellectual curiosity and genuine appetite for novelty. Abstract thinking comes naturally to you, and you\'re willing to step outside your comfort zone for growth.',
    score:'High (88/120)'
  },
  {
    num:2,
    title:'Conscientiousness',
    tagline:'Your relationship with order',
    shape:'ðŸŸ§',
    color:'#D4722A',
    messages:[
      {type:'n',text:'Now let\'s explore how you navigate structure, discipline, and long-term goals.'},
      {type:'u',text:'Okay, hit me.'},
      {type:'n',text:'How do you approach a big project with a deadline three months away?'},
      {type:'u',text:'I break it into milestones, but honestly, I do my best work closer to the deadline.'},
      {type:'n',text:'Interesting tension. What about your physical workspaceâ€”organized or chaotic?'},
      {type:'u',text:'Organized chaos. Everything has a place, even if it looks messy.'},
    ],
    summary:'You balance structure with spontaneity. While you appreciate organization, you don\'t let it constrain you. Your discipline emerges when it matters most.',
    score:'Moderate-High (72/120)'
  },
  {
    num:3,
    title:'Extraversion',
    tagline:'Where you draw energy',
    shape:'ðŸ”º',
    color:'#E0307B',
    messages:[
      {type:'n',text:'Chapter 3: Understanding your social energy and how you engage with the world.'},
      {type:'u',text:'I\'m curious where this goes.'},
      {type:'n',text:'After a full day around people, do you feel energized or depleted?'},
      {type:'u',text:'Depleted. I need quiet time to recharge.'},
      {type:'n',text:'Classic pattern. How about one-on-one versus group conversations?'},
      {type:'u',text:'Give me deep one-on-one conversations any day. Groups can feel overwhelming.'},
    ],
    summary:'You\'re selectively socialâ€”valuing depth over breadth in connections. Social situations drain rather than energize you, and you prefer intimate settings.',
    score:'Moderate (52/120)'
  },
  {
    num:4,
    title:'Agreeableness',
    tagline:'How you balance your needs with others',
    shape:'ðŸŒ™',
    color:'#00B4A6',
    messages:[
      {type:'n',text:'Now we explore your approach to relationships, trust, and cooperation.'},
      {type:'u',text:'This should be interesting.'},
      {type:'n',text:'When someone wrongs you, what\'s your instinctâ€”confront or withdraw?'},
      {type:'u',text:'I prefer direct, honest conversation. No passive-aggressive games.'},
      {type:'n',text:'And when making decisions, how much weight do you give to others\' feelings?'},
      {type:'u',text:'A lot. I hate the idea of hurting people, even unintentionally.'},
    ],
    summary:'You combine directness with empathy. You value honesty in relationships but are deeply attuned to others\' emotional states. Trust matters deeply to you.',
    score:'High (78/120)'
  },
  {
    num:5,
    title:'Neuroticism',
    tagline:'Your emotional landscape',
    shape:'ðŸ’Ž',
    color:'#1A1A5E',
    messages:[
      {type:'n',text:'Final chapter: Understanding your emotional patterns and how you process stress.'},
      {type:'u',text:'Okay, let\'s go.'},
      {type:'n',text:'How often do you worry about things that might go wrong?'},
      {type:'u',text:'Occasionally, but I can usually logic my way out of it.'},
      {type:'n',text:'When stressed, do you internalize or express it?'},
      {type:'u',text:'Internalize first, then talk it through with someone I trust.'},
    ],
    summary:'You have moderate emotional intensity. While you experience worry and stress, you have effective coping mechanisms. Your emotional OS is balanced and resilient.',
    score:'Moderate (55/120)'
  }
];

let currentChapter = 0;
let currentMsgIndex = 0;
const chat = document.getElementById('chat');
const breadcrumbs = document.querySelectorAll('.crumb');

function updateBreadcrumbs(){
  breadcrumbs.forEach((crumb,i)=>{
    crumb.classList.remove('active','complete');
    if(i < currentChapter) crumb.classList.add('complete');
    else if(i === currentChapter) crumb.classList.add('active');
  });
}

function addChapterCard(chapter){
  const root = document.documentElement;
  root.style.setProperty('--chapter-accent', chapter.color);

  const div = document.createElement('div');
  div.className = 'chapter-card';
  div.innerHTML = `
    <div class="chapter-number">Chapter ${chapter.num}</div>
    <div class="chapter-title">${chapter.title}</div>
    <div class="chapter-tagline">"${chapter.tagline}"</div>
    <div class="chapter-shape">${chapter.shape}</div>
  `;
  chat.appendChild(div);
  setTimeout(()=>div.classList.add('vis'),100);
  chat.scrollTop = chat.scrollHeight;
}

function addMessage(msg){
  const div = document.createElement('div');
  div.className = `msg ${msg.type}`;
  div.innerHTML = `
    <div class="av">${msg.type === 'n' ? 'N' : 'Y'}</div>
    <div class="bub">${msg.text}</div>
  `;
  chat.appendChild(div);
  setTimeout(()=>div.classList.add('vis'),50);
  chat.scrollTop = chat.scrollHeight;
}

function addSummary(chapter){
  const div = document.createElement('div');
  div.className = 'summary-card';
  div.innerHTML = `
    <h4>${chapter.shape} ${chapter.title} â€” Complete</h4>
    <p>${chapter.summary}</p>
    <div class="score">${chapter.score}</div>
    ${currentChapter < chapters.length - 1 ? `<div class="next">Next: Chapter ${currentChapter + 2} â€” ${chapters[currentChapter + 1].title}</div>` : '<div class="next">All chapters complete! Your full profile awaits...</div>'}
  `;
  chat.appendChild(div);
  setTimeout(()=>div.classList.add('vis'),100);
  chat.scrollTop = chat.scrollHeight;
}

function nextMessage(){
  const chapter = chapters[currentChapter];
  if(currentMsgIndex < chapter.messages.length){
    addMessage(chapter.messages[currentMsgIndex]);
    currentMsgIndex++;
    const delay = chapter.messages[currentMsgIndex-1]?.type === 'u' ? 1500 : 2000;
    setTimeout(nextMessage, delay);
  }else{
    // Chapter complete
    setTimeout(()=>{
      addSummary(chapter);
      currentChapter++;
      currentMsgIndex = 0;
      updateBreadcrumbs();
      if(currentChapter < chapters.length){
        setTimeout(()=>{
          addChapterCard(chapters[currentChapter]);
          setTimeout(nextMessage, 2000);
        },2500);
      }
    },1500);
  }
}

// Start
addChapterCard(chapters[0]);
updateBreadcrumbs();
setTimeout(()=>nextMessage(),2000);
</script>

</body>
</html>
