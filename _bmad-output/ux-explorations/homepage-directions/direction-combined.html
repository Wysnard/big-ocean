<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Big Ocean — Combined Direction</title>
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=DM+Sans:ital,wght@0,400;0,500;0,600;1,400&family=JetBrains+Mono&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{
  --bg:#FFF8F0;--fg:#1A1A2E;--primary:#FF0080;--secondary:#FF6B2B;
  --tertiary:#00B4A6;--card:#FFF0E8;--muted:#6B6580;--border:#FFD6C4;
  --surface:#FFF8F0;--shallows:#FFF0E8;--mid:#FFE8D8;--deep:#FFD6C4;
  --trait-o:#7B2FBE;--trait-c:#D4722A;--trait-e:#E0307B;--trait-a:#00B4A6;--trait-n:#1A1A5E;
  /* dynamic overrides */
  --bubble-bg:var(--card);--bubble-border:var(--border);--bubble-fg:var(--fg);
  --embed-bg:rgba(255,255,255,.55);--embed-border:var(--border);
  --user-avatar-bg:var(--deep);--user-avatar-fg:var(--fg);
  --muted-dynamic:var(--muted);
}
html{scroll-behavior:smooth}
body{font-family:'DM Sans',sans-serif;color:var(--fg);overflow-x:hidden;background:var(--surface)}

/* ===== NAV ===== */
nav{position:fixed;top:0;left:0;right:0;z-index:100;padding:16px 40px;display:flex;justify-content:space-between;align-items:center;transition:all .35s}
nav.light{background:rgba(255,248,240,.88);backdrop-filter:blur(14px);border-bottom:1px solid rgba(255,214,196,.5)}
nav.dark{background:rgba(10,14,39,.88);backdrop-filter:blur(14px);border-bottom:1px solid rgba(255,255,255,.05)}
.logo{font-family:'Space Grotesk',sans-serif;font-weight:700;font-size:1.1rem;display:flex;align-items:center;gap:8px;transition:color .35s}
.logo .dot{width:9px;height:9px;border-radius:50%;background:var(--primary)}
nav.light .logo{color:var(--fg)}
nav.dark .logo{color:#fff}
.nav-links{display:flex;gap:20px;align-items:center}
.nav-links a{text-decoration:none;font-size:.85rem;transition:color .3s}
nav.light .nav-links a{color:var(--muted)}
nav.dark .nav-links a{color:rgba(255,255,255,.45)}
.nav-links a:last-child{color:var(--primary)!important;font-weight:600}

/* Theme toggle */
.theme-toggle{width:36px;height:36px;border-radius:10px;border:1px solid var(--border);background:var(--card);display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:1rem;transition:all .3s;flex-shrink:0}
.theme-toggle:hover{border-color:var(--primary);box-shadow:0 2px 10px rgba(255,0,128,.1)}
nav.dark .theme-toggle{background:rgba(255,255,255,.06);border-color:rgba(255,255,255,.1)}
nav.dark .theme-toggle:hover{border-color:var(--primary)}

/* ===== DEPTH METER ===== */
.depth-meter{position:fixed;left:20px;top:50%;transform:translateY(-50%);z-index:90;display:flex;flex-direction:column;align-items:center;opacity:0;pointer-events:none;transition:opacity .5s ease}
.depth-meter.visible{opacity:1;pointer-events:auto}
.depth-track{width:2px;height:160px;border-radius:1px;position:relative;transition:background .35s}
.depth-track-light{background:rgba(0,0,0,.07)}
.depth-track-dark{background:rgba(255,255,255,.08)}
.depth-fill{position:absolute;top:0;left:0;width:100%;border-radius:1px;background:var(--primary);transition:height .08s linear}
.depth-pips{position:absolute;left:12px;top:0;height:100%;display:flex;flex-direction:column;justify-content:space-between}
.depth-pip{font-family:'JetBrains Mono',monospace;font-size:.45rem;letter-spacing:.08em;text-transform:uppercase;white-space:nowrap;transition:color .35s}
.depth-pip-light{color:rgba(0,0,0,.2)}
.depth-pip-dark{color:rgba(255,255,255,.15)}
.depth-pip.active{color:var(--primary)!important;font-weight:600}
.depth-zone{font-family:'JetBrains Mono',monospace;font-size:.5rem;letter-spacing:.06em;color:var(--primary);margin-top:10px;text-align:center}

/* ===== HERO ===== */
.hero{min-height:100vh;display:grid;grid-template-columns:1.1fr 1fr;padding:100px 80px 80px;gap:44px;align-items:center;position:relative}
.hero-text h1{font-family:'Space Grotesk',sans-serif;font-size:clamp(2.4rem,5vw,4rem);font-weight:700;line-height:1.06;margin-bottom:18px}
.hero-text h1 .hl{background:linear-gradient(120deg,var(--primary),#FF1493,var(--secondary));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}
.hero-text .tagline{font-size:1.05rem;color:var(--muted);line-height:1.7;max-width:440px;margin-bottom:24px}
.hero-text .meta{font-family:'JetBrains Mono',monospace;font-size:.72rem;color:var(--muted);letter-spacing:.05em;margin-bottom:32px}
.cta-main{display:inline-flex;align-items:center;gap:10px;background:linear-gradient(120deg,var(--primary),var(--secondary));color:#fff;font-family:'Space Grotesk',sans-serif;font-weight:600;font-size:.95rem;padding:15px 34px;border-radius:12px;text-decoration:none;border:none;cursor:pointer;transition:transform .2s,box-shadow .2s}
.cta-main:hover{transform:translateY(-2px);box-shadow:0 8px 28px rgba(255,0,128,.28)}

.hero-shapes{display:flex;justify-content:center;align-items:center;position:relative;height:380px}
.sh{position:absolute;animation:breathe 6s ease-in-out infinite}
.sh:nth-child(2){animation-delay:-1.2s}
.sh:nth-child(3){animation-delay:-2.4s}
.sh:nth-child(4){animation-delay:-3.6s}
.sh:nth-child(5){animation-delay:-4.8s}
@keyframes breathe{0%,100%{transform:var(--bt,none) scale(1)}50%{transform:var(--bt,none) scale(1.07)}}
.sh-circle{width:160px;height:160px;border-radius:50%;background:var(--trait-o);opacity:.8;top:10px;left:50px}
.sh-rect{width:110px;height:165px;border-radius:11px;background:var(--trait-c);opacity:.75;top:60px;right:30px;--bt:rotate(12deg)}
.sh-tri{width:0;height:0;border-left:65px solid transparent;border-right:65px solid transparent;border-bottom:130px solid var(--trait-e);opacity:.7;bottom:30px;left:90px}
.sh-half{width:140px;height:70px;border-radius:140px 140px 0 0;background:var(--trait-a);opacity:.75;bottom:45px;right:55px}
.sh-diamond{width:78px;height:78px;background:var(--trait-n);opacity:.85;top:155px;left:185px;--bt:rotate(45deg)}

.scroll-cue{position:absolute;bottom:28px;left:50%;transform:translateX(-50%);color:var(--muted);font-size:.78rem;animation:bob 2.5s ease-in-out infinite;display:flex;flex-direction:column;align-items:center;gap:3px}
@keyframes bob{0%,100%{transform:translateX(-50%) translateY(0)}50%{transform:translateX(-50%) translateY(8px)}}

/* ===== CONVERSATION ===== */
.conversation{max-width:900px;margin:0 auto;padding:40px 24px 140px;position:relative}
@media(min-width:1200px){.conversation{max-width:1000px}}
@media(min-width:1440px){.conversation{max-width:1100px}}
.conversation::before{content:'';position:absolute;left:29px;top:0;bottom:80px;width:1.5px;z-index:0;transition:background .35s}
.convo-line-light::before{background:linear-gradient(to bottom,var(--border) 0%,transparent 100%)}
.convo-line-dark::before{background:linear-gradient(to bottom,rgba(255,255,255,.06) 0%,transparent 100%)}

/* MESSAGE GROUPS */
.mg{margin-bottom:36px;opacity:0;transform:translateY(26px);transition:all .65s cubic-bezier(.16,1,.3,1)}
.mg.vis{opacity:1;transform:translateY(0)}

.msg{display:flex;gap:11px;margin-bottom:12px;position:relative;z-index:1}
.msg.n{flex-direction:row}
.msg.u{flex-direction:row-reverse}
.av{width:32px;height:32px;border-radius:50%;flex-shrink:0;display:flex;align-items:center;justify-content:center;font-size:.75rem;font-weight:700;font-family:'Space Grotesk',sans-serif}
.msg.n .av{background:linear-gradient(135deg,var(--tertiary),var(--primary));color:#fff}
.msg.u .av{background:var(--user-avatar-bg);color:var(--user-avatar-fg);transition:background .35s,color .35s}
.bub{padding:16px 22px;border-radius:18px;max-width:88%;font-size:.92rem;line-height:1.65;transition:background .35s,border-color .35s,color .35s}
@media(min-width:1200px){.bub{max-width:92%}}
.msg.n .bub{background:var(--bubble-bg);border:1px solid var(--bubble-border);color:var(--bubble-fg);border-bottom-left-radius:5px}
.msg.u .bub{background:linear-gradient(120deg,var(--primary),var(--secondary));color:#fff;border-bottom-right-radius:5px}

/* ===== EMBEDS INSIDE BUBBLES ===== */
.embed{margin-top:14px;border-radius:12px;padding:18px;background:var(--embed-bg);border:1px solid var(--embed-border);backdrop-filter:blur(4px);transition:background .35s,border-color .35s}

/* Trait carousel EMBED */
.trait-scroll{display:flex;gap:0;overflow-x:auto;scroll-snap-type:x mandatory;margin:-18px;border-radius:12px;scrollbar-width:none;-ms-overflow-style:none}
.trait-scroll::-webkit-scrollbar{display:none}
.trait-card{min-width:100%;scroll-snap-align:start;padding:20px;display:flex;gap:16px;align-items:flex-start}
.trait-shape-box{flex-shrink:0;display:flex;align-items:center;justify-content:center;width:60px}
.trait-body{flex:1;min-width:0}
.trait-title{font-family:'Space Grotesk',sans-serif;font-size:1.05rem;font-weight:700;margin-bottom:4px}
.trait-p{font-size:.82rem;line-height:1.55;color:var(--muted-dynamic);transition:color .35s}
.facet-pills{display:flex;flex-wrap:wrap;gap:4px;margin-top:8px}
.facet-pill{font-family:'JetBrains Mono',monospace;font-size:.58rem;padding:3px 8px;border-radius:5px;transition:background .35s,border-color .35s,color .35s}
.facet-pill-light{background:var(--bg);border:1px solid var(--border);color:var(--muted)}
.facet-pill-dark{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.08);color:rgba(255,255,255,.5)}
.trait-nav{display:flex;gap:6px;justify-content:center;margin-top:10px;padding:0 20px}
.trait-dot{width:7px;height:7px;border-radius:50%;cursor:pointer;transition:all .3s}
.trait-dot-light{background:var(--border)}
.trait-dot-dark{background:rgba(255,255,255,.12)}
.trait-dot.on{background:var(--primary)!important;transform:scale(1.3)}
.trait-scroll-hint{text-align:center;font-family:'JetBrains Mono',monospace;font-size:.5rem;letter-spacing:.1em;margin-top:6px;transition:color .35s}
.hint-light{color:var(--border)}
.hint-dark{color:rgba(255,255,255,.1)}

/* Blurred dashboard EMBEDS */
.blur-wrap{position:relative}
.blur-wrap .blurred{filter:blur(5px);user-select:none;pointer-events:none;transition:filter .5s}
.blur-wrap:hover .blurred{filter:blur(2.5px)}
.blur-wrap .reveal{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s;z-index:2}
.blur-wrap:hover .reveal{opacity:1}
.pill{background:var(--primary);color:#fff;font-family:'Space Grotesk',sans-serif;font-weight:600;font-size:.72rem;padding:9px 18px;border-radius:7px;box-shadow:0 4px 14px rgba(255,0,128,.3);cursor:pointer}

/* OCEAN code */
.ocean-row{display:flex;gap:10px;justify-content:center}
.o-letter{display:flex;flex-direction:column;align-items:center;gap:4px}
.o-box{width:44px;height:44px;border-radius:9px;display:flex;align-items:center;justify-content:center;font-family:'Space Grotesk',sans-serif;font-weight:700;font-size:1.1rem;color:#fff}
.o-name{font-size:.5rem;font-family:'JetBrains Mono',monospace;color:var(--muted-dynamic);transition:color .35s}

/* Radar */
.radar-flex{display:flex;align-items:center;gap:20px;justify-content:center;flex-wrap:wrap}
.r-legend{display:flex;flex-direction:column;gap:6px}
.r-item{display:flex;align-items:center;gap:7px;font-size:.75rem;color:var(--muted-dynamic);transition:color .35s}
.r-dot{width:7px;height:7px;border-radius:3px;flex-shrink:0}

/* Facet bars */
.facet-grid{display:grid;grid-template-columns:repeat(5,1fr);gap:10px}
.fc h4{font-family:'Space Grotesk',sans-serif;font-size:.65rem;font-weight:600;margin-bottom:6px;display:flex;align-items:center;gap:5px}
.fc h4 .d{width:6px;height:6px;border-radius:50%;flex-shrink:0}
.fi{display:flex;align-items:center;gap:6px;margin-bottom:4px;font-size:.6rem;color:var(--muted-dynamic);transition:color .35s}
.fb{height:4px;border-radius:2px;flex:1;overflow:hidden;transition:background .35s}
.fb-light{background:var(--border)}
.fb-dark{background:rgba(255,255,255,.06)}
.ff{height:100%;border-radius:2px}

/* ===== CHAT INPUT BAR ===== */
.chat-bar{position:fixed;bottom:0;left:0;right:0;z-index:95;padding:14px 24px;display:flex;justify-content:center;gap:10px;transform:translateY(100%);transition:transform .5s cubic-bezier(.16,1,.3,1),background .35s,border-color .35s}
.chat-bar.show{transform:translateY(0)}
.chat-bar-light{background:rgba(255,248,240,.92);backdrop-filter:blur(14px);border-top:1px solid var(--border)}
.chat-bar-dark{background:rgba(10,14,39,.92);backdrop-filter:blur(14px);border-top:1px solid rgba(255,255,255,.06)}
.chat-input{flex:1;max-width:520px;padding:13px 20px;border-radius:12px;font-family:'DM Sans',sans-serif;font-size:.9rem;outline:none;transition:background .35s,border-color .35s,color .35s}
@media(min-width:1200px){.chat-input{max-width:700px}}
@media(min-width:1440px){.chat-input{max-width:820px}}
.input-light{background:var(--card);border:1px solid var(--border);color:var(--muted)}
.input-dark{background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.08);color:rgba(255,255,255,.4)}
.chat-send{background:linear-gradient(120deg,var(--primary),var(--secondary));color:#fff;border:none;padding:13px 26px;border-radius:12px;font-family:'Space Grotesk',sans-serif;font-weight:600;font-size:.9rem;cursor:pointer;transition:transform .2s,box-shadow .2s;white-space:nowrap}
.chat-send:hover{transform:translateY(-1px);box-shadow:0 4px 16px rgba(255,0,128,.3)}

/* ===== RESPONSIVE ===== */
@media(max-width:900px){
  .hero{grid-template-columns:1fr;padding:90px 24px 50px;text-align:center}
  .hero-shapes{height:230px;margin-top:24px}
  .hero-text .tagline{margin:0 auto 24px}
  .sh-circle{width:110px;height:110px}
  .sh-rect{width:70px;height:110px}
  .sh-tri{border-left-width:42px;border-right-width:42px;border-bottom-width:84px}
  .sh-half{width:100px;height:50px}
  .sh-diamond{width:55px;height:55px}
  .depth-meter{display:none}
  nav{padding:12px 18px}
  .bub{max-width:92%}
  .facet-grid{grid-template-columns:repeat(2,1fr)}
  .trait-card{flex-direction:column;align-items:center;text-align:center}
  .facet-pills{justify-content:center}
  .radar-flex{flex-direction:column}
  .chat-bar{padding:10px 14px}
}
@media(max-width:480px){
  .facet-grid{grid-template-columns:1fr}
  .ocean-row{gap:6px}
  .o-box{width:38px;height:38px;font-size:.95rem}
}
</style>
</head>
<body>

<!-- NAV -->
<nav class="light" id="nav">
  <div class="logo"><span class="dot"></span> Big Ocean</div>
  <div class="nav-links">
    <a href="index.html">&larr; Directions</a>
    <a href="#">Science</a>
    <a href="#">Begin</a>
    <button class="theme-toggle" id="themeToggle" title="Toggle dark mode">&#9790;</button>
  </div>
</nav>

<!-- DEPTH METER -->
<div class="depth-meter" id="dm">
  <div style="position:relative">
    <div class="depth-track depth-track-light" id="dTrack">
      <div class="depth-fill" id="dFill" style="height:0%"></div>
    </div>
    <div class="depth-pips" id="dPips">
      <span class="depth-pip depth-pip-light active">Surface</span>
      <span class="depth-pip depth-pip-light">Shallows</span>
      <span class="depth-pip depth-pip-light">Mid</span>
      <span class="depth-pip depth-pip-light">Deep</span>
      <span class="depth-pip depth-pip-light">Abyss</span>
    </div>
  </div>
  <div class="depth-zone" id="dZone">Surface</div>
</div>

<!-- ===== HERO ===== -->
<section class="hero">
  <div class="hero-text">
    <h1>What if the most <span class="hl">interesting person</span> in the room is you?</h1>
    <p class="tagline">A personality deep dive guided by AI, grounded in science, revealed through conversation. Not a quiz. A real exploration of the 30 facets that make you, you.</p>
    <div class="meta">30 MIN &middot; FREE &middot; NO ACCOUNT NEEDED</div>
    <a href="#convo" class="cta-main">Begin Your Dive &darr;</a>
  </div>
  <div class="hero-shapes">
    <div class="sh sh-circle"></div>
    <div class="sh sh-rect"></div>
    <div class="sh sh-tri"></div>
    <div class="sh sh-half"></div>
    <div class="sh sh-diamond"></div>
  </div>
  <div class="scroll-cue"><span>Scroll to descend</span><span>&darr;</span></div>
</section>

<!-- ===== THE CONVERSATION ===== -->
<div class="conversation convo-line-light" id="convo">

  <!-- 1. INTRO -->
  <div class="mg" data-r>
    <div class="msg n"><div class="av">N</div>
      <div class="bub">Hi. I'm <strong>Nerin</strong>. I'm not a questionnaire. I don't do "on a scale of 1&nbsp;to&nbsp;5."<br>I have actual conversations.</div>
    </div>
  </div>

  <div class="mg" data-r>
    <div class="msg n"><div class="av">N</div>
      <div class="bub">Through our chat, I map <strong>30&nbsp;distinct facets</strong> of your personality. Not just "are you an introvert"&mdash;but the real nuances of how you see and process the world.</div>
    </div>
  </div>

  <!-- 2. USER ASKS -->
  <div class="mg" data-r>
    <div class="msg u"><div class="av">Y</div>
      <div class="bub">What exactly do you measure?</div>
    </div>
  </div>

  <!-- 3. TRAIT CAROUSEL INSIDE BUBBLE -->
  <div class="mg" data-r>
    <div class="msg n"><div class="av">N</div>
      <div class="bub">Five core dimensions of personality. Each one has six facets beneath it. Swipe through:

        <div class="embed" id="traitEmbed">
          <div class="trait-scroll" id="tScroll">
            <!-- O -->
            <div class="trait-card">
              <div class="trait-shape-box"><div style="width:48px;height:48px;border-radius:50%;background:var(--trait-o)"></div></div>
              <div class="trait-body">
                <div class="trait-title" style="color:var(--trait-o)">Openness</div>
                <p class="trait-p">Your appetite for novelty, imagination, and intellectual exploration. High scorers chase abstract ideas; low scorers prefer the practical and familiar.</p>
                <div class="facet-pills"><span class="facet-pill facet-pill-light">Imagination</span><span class="facet-pill facet-pill-light">Artistic Interests</span><span class="facet-pill facet-pill-light">Emotionality</span><span class="facet-pill facet-pill-light">Adventurousness</span><span class="facet-pill facet-pill-light">Intellect</span><span class="facet-pill facet-pill-light">Liberalism</span></div>
              </div>
            </div>
            <!-- C -->
            <div class="trait-card">
              <div class="trait-shape-box"><div style="width:34px;height:48px;border-radius:8px;background:var(--trait-c)"></div></div>
              <div class="trait-body">
                <div class="trait-title" style="color:var(--trait-c)">Conscientiousness</div>
                <p class="trait-p">Your relationship with structure, discipline, and long-term goals. How you navigate the tension between ambition and spontaneity.</p>
                <div class="facet-pills"><span class="facet-pill facet-pill-light">Self-Efficacy</span><span class="facet-pill facet-pill-light">Orderliness</span><span class="facet-pill facet-pill-light">Dutifulness</span><span class="facet-pill facet-pill-light">Achievement-Striving</span><span class="facet-pill facet-pill-light">Self-Discipline</span><span class="facet-pill facet-pill-light">Cautiousness</span></div>
              </div>
            </div>
            <!-- E -->
            <div class="trait-card">
              <div class="trait-shape-box"><div style="width:0;height:0;border-left:24px solid transparent;border-right:24px solid transparent;border-bottom:48px solid var(--trait-e)"></div></div>
              <div class="trait-body">
                <div class="trait-title" style="color:var(--trait-e)">Extraversion</div>
                <p class="trait-p">Where you draw energy and how you spend it. Beyond introvert vs extrovert&mdash;your assertiveness, social warmth, and relationship with excitement.</p>
                <div class="facet-pills"><span class="facet-pill facet-pill-light">Friendliness</span><span class="facet-pill facet-pill-light">Gregariousness</span><span class="facet-pill facet-pill-light">Assertiveness</span><span class="facet-pill facet-pill-light">Activity Level</span><span class="facet-pill facet-pill-light">Excitement-Seeking</span><span class="facet-pill facet-pill-light">Cheerfulness</span></div>
              </div>
            </div>
            <!-- A -->
            <div class="trait-card">
              <div class="trait-shape-box"><div style="width:48px;height:24px;border-radius:48px 48px 0 0;background:var(--trait-a)"></div></div>
              <div class="trait-body">
                <div class="trait-title" style="color:var(--trait-a)">Agreeableness</div>
                <p class="trait-p">How you balance your needs with others'. Your capacity for trust, empathy, cooperation, and the strategies you use to navigate conflict.</p>
                <div class="facet-pills"><span class="facet-pill facet-pill-light">Trust</span><span class="facet-pill facet-pill-light">Morality</span><span class="facet-pill facet-pill-light">Altruism</span><span class="facet-pill facet-pill-light">Cooperation</span><span class="facet-pill facet-pill-light">Modesty</span><span class="facet-pill facet-pill-light">Sympathy</span></div>
              </div>
            </div>
            <!-- N -->
            <div class="trait-card">
              <div class="trait-shape-box"><div style="width:34px;height:34px;background:var(--trait-n);transform:rotate(45deg)"></div></div>
              <div class="trait-body">
                <div class="trait-title" style="color:var(--trait-n)">Neuroticism</div>
                <p class="trait-p">Your emotional landscape&mdash;intensity, frequency, and texture of negative emotions. Not a weakness. Understanding this is understanding your emotional OS.</p>
                <div class="facet-pills"><span class="facet-pill facet-pill-light">Anxiety</span><span class="facet-pill facet-pill-light">Anger</span><span class="facet-pill facet-pill-light">Depression</span><span class="facet-pill facet-pill-light">Self-Consciousness</span><span class="facet-pill facet-pill-light">Immoderation</span><span class="facet-pill facet-pill-light">Vulnerability</span></div>
              </div>
            </div>
          </div>
          <div class="trait-nav" id="tDots"></div>
          <div class="trait-scroll-hint hint-light" id="tHint">&larr; swipe &rarr;</div>
        </div>

      </div>
    </div>
  </div>

  <!-- 4. USER ASKS ABOUT RESULTS -->
  <div class="mg" data-r>
    <div class="msg u"><div class="av">Y</div>
      <div class="bub">That's a lot deeper than I expected. What do I actually get at the end?</div>
    </div>
  </div>

  <!-- 5. OCEAN CODE (blurred) -->
  <div class="mg" data-r>
    <div class="msg n"><div class="av">N</div>
      <div class="bub">First, your <strong>OCEAN Code</strong>&mdash;a 5-letter personality fingerprint:

        <div class="embed blur-wrap">
          <div class="blurred">
            <div class="ocean-row">
              <div class="o-letter"><div class="o-box" style="background:var(--trait-o)">H</div><div class="o-name">Open</div></div>
              <div class="o-letter"><div class="o-box" style="background:var(--trait-c)">H</div><div class="o-name">Consc</div></div>
              <div class="o-letter"><div class="o-box" style="background:var(--trait-e)">M</div><div class="o-name">Extra</div></div>
              <div class="o-letter"><div class="o-box" style="background:var(--trait-a)">H</div><div class="o-name">Agree</div></div>
              <div class="o-letter"><div class="o-box" style="background:var(--trait-n)">M</div><div class="o-name">Neuro</div></div>
            </div>
          </div>
          <div class="reveal"><span class="pill">Take assessment to reveal yours &rarr;</span></div>
        </div>

      </div>
    </div>
  </div>

  <!-- 6. RADAR (blurred) -->
  <div class="mg" data-r>
    <div class="msg n"><div class="av">N</div>
      <div class="bub">Then a visual overview of how your five traits compare:

        <div class="embed blur-wrap">
          <div class="blurred">
            <div class="radar-flex">
              <svg width="160" height="160" viewBox="0 0 200 200">
                <polygon points="100,20 175,65 155,155 45,155 25,65" fill="none" stroke="currentColor" stroke-width="1" opacity=".12"/>
                <polygon points="100,45 155,75 142,140 58,140 45,75" fill="none" stroke="currentColor" stroke-width="1" opacity=".06"/>
                <polygon points="100,28 168,72 140,148 55,135 35,70" fill="rgba(255,0,128,.1)" stroke="var(--primary)" stroke-width="2"/>
                <circle cx="100" cy="28" r="4" fill="var(--trait-o)"/>
                <circle cx="168" cy="72" r="4" fill="var(--trait-c)"/>
                <circle cx="140" cy="148" r="4" fill="var(--trait-e)"/>
                <circle cx="55" cy="135" r="4" fill="var(--trait-a)"/>
                <circle cx="35" cy="70" r="4" fill="var(--trait-n)"/>
              </svg>
              <div class="r-legend">
                <div class="r-item"><div class="r-dot" style="background:var(--trait-o)"></div>Openness: 92/120</div>
                <div class="r-item"><div class="r-dot" style="background:var(--trait-c)"></div>Conscientiousness: 88/120</div>
                <div class="r-item"><div class="r-dot" style="background:var(--trait-e)"></div>Extraversion: 65/120</div>
                <div class="r-item"><div class="r-dot" style="background:var(--trait-a)"></div>Agreeableness: 78/120</div>
                <div class="r-item"><div class="r-dot" style="background:var(--trait-n)"></div>Neuroticism: 52/120</div>
              </div>
            </div>
          </div>
          <div class="reveal"><span class="pill">See your scores &rarr;</span></div>
        </div>

      </div>
    </div>
  </div>

  <!-- 7. FACET BARS (blurred) -->
  <div class="mg" data-r>
    <div class="msg n"><div class="av">N</div>
      <div class="bub">And the full 30-facet breakdown&mdash;the real depth:

        <div class="embed blur-wrap">
          <div class="blurred">
            <div class="facet-grid">
              <div class="fc">
                <h4 style="color:var(--trait-o)"><span class="d" style="background:var(--trait-o)"></span>Open</h4>
                <div class="fi">Imagin <div class="fb fb-light"><div class="ff" style="width:85%;background:var(--trait-o)"></div></div></div>
                <div class="fi">Artistic <div class="fb fb-light"><div class="ff" style="width:92%;background:var(--trait-o)"></div></div></div>
                <div class="fi">Emotion <div class="fb fb-light"><div class="ff" style="width:70%;background:var(--trait-o)"></div></div></div>
                <div class="fi">Advent <div class="fb fb-light"><div class="ff" style="width:78%;background:var(--trait-o)"></div></div></div>
                <div class="fi">Intellect <div class="fb fb-light"><div class="ff" style="width:95%;background:var(--trait-o)"></div></div></div>
                <div class="fi">Liberal <div class="fb fb-light"><div class="ff" style="width:80%;background:var(--trait-o)"></div></div></div>
              </div>
              <div class="fc">
                <h4 style="color:var(--trait-c)"><span class="d" style="background:var(--trait-c)"></span>Consc</h4>
                <div class="fi">Efficacy <div class="fb fb-light"><div class="ff" style="width:88%;background:var(--trait-c)"></div></div></div>
                <div class="fi">Order <div class="fb fb-light"><div class="ff" style="width:72%;background:var(--trait-c)"></div></div></div>
                <div class="fi">Dutiful <div class="fb fb-light"><div class="ff" style="width:80%;background:var(--trait-c)"></div></div></div>
                <div class="fi">Achieve <div class="fb fb-light"><div class="ff" style="width:90%;background:var(--trait-c)"></div></div></div>
                <div class="fi">Discipl <div class="fb fb-light"><div class="ff" style="width:75%;background:var(--trait-c)"></div></div></div>
                <div class="fi">Cautious <div class="fb fb-light"><div class="ff" style="width:65%;background:var(--trait-c)"></div></div></div>
              </div>
              <div class="fc">
                <h4 style="color:var(--trait-e)"><span class="d" style="background:var(--trait-e)"></span>Extra</h4>
                <div class="fi">Friendly <div class="fb fb-light"><div class="ff" style="width:68%;background:var(--trait-e)"></div></div></div>
                <div class="fi">Social <div class="fb fb-light"><div class="ff" style="width:42%;background:var(--trait-e)"></div></div></div>
                <div class="fi">Assert <div class="fb fb-light"><div class="ff" style="width:72%;background:var(--trait-e)"></div></div></div>
                <div class="fi">Active <div class="fb fb-light"><div class="ff" style="width:58%;background:var(--trait-e)"></div></div></div>
                <div class="fi">Excite <div class="fb fb-light"><div class="ff" style="width:55%;background:var(--trait-e)"></div></div></div>
                <div class="fi">Cheer <div class="fb fb-light"><div class="ff" style="width:60%;background:var(--trait-e)"></div></div></div>
              </div>
              <div class="fc">
                <h4 style="color:var(--trait-a)"><span class="d" style="background:var(--trait-a)"></span>Agree</h4>
                <div class="fi">Trust <div class="fb fb-light"><div class="ff" style="width:75%;background:var(--trait-a)"></div></div></div>
                <div class="fi">Moral <div class="fb fb-light"><div class="ff" style="width:82%;background:var(--trait-a)"></div></div></div>
                <div class="fi">Altruism <div class="fb fb-light"><div class="ff" style="width:80%;background:var(--trait-a)"></div></div></div>
                <div class="fi">Cooperate <div class="fb fb-light"><div class="ff" style="width:70%;background:var(--trait-a)"></div></div></div>
                <div class="fi">Modest <div class="fb fb-light"><div class="ff" style="width:55%;background:var(--trait-a)"></div></div></div>
                <div class="fi">Sympath <div class="fb fb-light"><div class="ff" style="width:85%;background:var(--trait-a)"></div></div></div>
              </div>
              <div class="fc">
                <h4 style="color:var(--trait-n)"><span class="d" style="background:var(--trait-n)"></span>Neuro</h4>
                <div class="fi">Anxiety <div class="fb fb-light"><div class="ff" style="width:50%;background:var(--trait-n)"></div></div></div>
                <div class="fi">Anger <div class="fb fb-light"><div class="ff" style="width:35%;background:var(--trait-n)"></div></div></div>
                <div class="fi">Depress <div class="fb fb-light"><div class="ff" style="width:40%;background:var(--trait-n)"></div></div></div>
                <div class="fi">Self-Con <div class="fb fb-light"><div class="ff" style="width:55%;background:var(--trait-n)"></div></div></div>
                <div class="fi">Immod <div class="fb fb-light"><div class="ff" style="width:48%;background:var(--trait-n)"></div></div></div>
                <div class="fi">Vulner <div class="fb fb-light"><div class="ff" style="width:45%;background:var(--trait-n)"></div></div></div>
              </div>
            </div>
          </div>
          <div class="reveal"><span class="pill">Reveal your 30 facets &rarr;</span></div>
        </div>

      </div>
    </div>
  </div>

  <!-- 8. USER FINAL -->
  <div class="mg" data-r>
    <div class="msg u"><div class="av">Y</div>
      <div class="bub">How long does this take?</div>
    </div>
  </div>

  <!-- 9. NERIN CLOSE -->
  <div class="mg" data-r>
    <div class="msg n"><div class="av">N</div>
      <div class="bub">About <strong>30 minutes</strong>. It's free. You don't need an account.<br><br>Just a conversation between you and me. Ready?</div>
    </div>
  </div>

</div>

<!-- CHAT INPUT BAR -->
<div class="chat-bar chat-bar-light" id="chatBar">
  <input class="chat-input input-light" id="chatInput" type="text" placeholder="Type your first message to Nerin..." readonly>
  <button class="chat-send">Start Conversation &rarr;</button>
</div>

<script>
// ===== DEPTH COLOR SYSTEM =====
const Z=[
  {bg:[255,248,240],fg:[26,26,46],dark:false,name:'Surface'},
  {bg:[255,240,232],fg:[26,26,46],dark:false,name:'Shallows'},
  {bg:[255,232,216],fg:[26,26,46],dark:false,name:'Mid'},
  {bg:[40,38,65],fg:[255,255,255],dark:true,name:'Deep'},
  {bg:[10,14,39],fg:[255,255,255],dark:true,name:'Abyss'},
];
const lerp=(a,b,t)=>a+(b-a)*t;
const lc=(c1,c2,t)=>`rgb(${lerp(c1[0],c2[0],t)},${lerp(c1[1],c2[1],t)},${lerp(c1[2],c2[2],t)})`;

const $=s=>document.querySelector(s);
const $$=s=>document.querySelectorAll(s);
const nav=$('#nav'),dTrack=$('#dTrack'),dFill=$('#dFill'),dZone=$('#dZone');
const pips=$$('.depth-pip'),chatBar=$('#chatBar'),chatInput=$('#chatInput');
const convo=$('#convo'),dm=$('#dm'),toggleBtn=$('#themeToggle');

// Show depth meter only when conversation is reached
const dmObs=new IntersectionObserver(es=>{
  es.forEach(e=>dm.classList.toggle('visible',e.isIntersecting));
},{threshold:0.01});
dmObs.observe(convo);

// ===== THEME TOGGLE =====
let forcedTheme=null; // null = auto (scroll), 'light', 'dark'
toggleBtn.addEventListener('click',()=>{
  if(forcedTheme==='dark') forcedTheme='light';
  else forcedTheme='dark';
  toggleBtn.innerHTML=forcedTheme==='dark'?'&#9788;':'&#9790;';
  applyTheme();
});

function themeSwap(els,lightCls,darkCls,isDark){
  els.forEach(el=>{el.classList.remove(lightCls,darkCls);el.classList.add(isDark?darkCls:lightCls)});
}

// Light zones (default scroll progression)
const ZL=[
  {bg:[255,248,240],fg:[26,26,46]},
  {bg:[255,240,232],fg:[26,26,46]},
  {bg:[255,232,216],fg:[26,26,46]},
  {bg:[40,38,65],fg:[255,255,255]},
  {bg:[10,14,39],fg:[255,255,255]},
];
// Dark zones (dark mode — static background)
const ZD=[
  {bg:[14,16,42],fg:[255,255,255]},
  {bg:[14,16,42],fg:[255,255,255]},
  {bg:[14,16,42],fg:[255,255,255]},
  {bg:[14,16,42],fg:[255,255,255]},
  {bg:[14,16,42],fg:[255,255,255]},
];
// Light zones (forced light — same light-to-dark as auto)
const ZF=[
  {bg:[255,248,240],fg:[26,26,46]},
  {bg:[255,240,232],fg:[26,26,46]},
  {bg:[255,232,216],fg:[26,26,46]},
  {bg:[40,38,65],fg:[255,255,255]},
  {bg:[10,14,39],fg:[255,255,255]},
];

let prevDark=false;
function applyTheme(){
  const p=Math.min(window.scrollY/(document.body.scrollHeight-window.innerHeight),1);

  // Pick the zone palette
  const zones=forcedTheme==='dark'?ZD:forcedTheme==='light'?ZF:Z;
  const isDark=forcedTheme==='dark'?true:(()=>{
    const zf=p*(Z.length-1),zi=Math.min(Math.floor(zf),Z.length-2),zr=zf-zi;
    return (Z[zi].dark)||(Z[zi+1].dark&&zr>0.3);
  })();

  // Background / foreground — always interpolate from the active zone palette
  const zf=p*(zones.length-1),zi=Math.min(Math.floor(zf),zones.length-2),zr=zf-zi;
  document.body.style.background=lc(zones[zi].bg,zones[zi+1].bg,zr);
  document.body.style.color=lc(zones[zi].fg,zones[zi+1].fg,zr);

  // Nav
  nav.className=isDark?'dark':'light';

  // Depth meter
  dFill.style.height=(p*100)+'%';
  themeSwap([dTrack],'depth-track-light','depth-track-dark',isDark);
  const zf2=p*(Z.length-1);
  const active=Math.round(zf2);
  pips.forEach((pip,i)=>{
    pip.className='depth-pip '+(isDark?'depth-pip-dark':'depth-pip-light')+(i===active?' active':'');
  });
  dZone.textContent=Z[Math.min(active,Z.length-1)].name;

  // CSS custom props
  const r=document.documentElement.style;
  if(isDark&&!prevDark){
    r.setProperty('--bubble-bg','rgba(255,255,255,.05)');
    r.setProperty('--bubble-border','rgba(255,255,255,.07)');
    r.setProperty('--bubble-fg','rgba(255,255,255,.85)');
    r.setProperty('--embed-bg','rgba(255,255,255,.04)');
    r.setProperty('--embed-border','rgba(255,255,255,.06)');
    r.setProperty('--user-avatar-bg','rgba(255,255,255,.08)');
    r.setProperty('--user-avatar-fg','#fff');
    r.setProperty('--muted-dynamic','rgba(255,255,255,.45)');
  } else if(!isDark&&prevDark){
    r.setProperty('--bubble-bg','var(--card)');
    r.setProperty('--bubble-border','var(--border)');
    r.setProperty('--bubble-fg','var(--fg)');
    r.setProperty('--embed-bg','rgba(255,255,255,.55)');
    r.setProperty('--embed-border','var(--border)');
    r.setProperty('--user-avatar-bg','var(--deep)');
    r.setProperty('--user-avatar-fg','var(--fg)');
    r.setProperty('--muted-dynamic','var(--muted)');
  }
  prevDark=isDark;

  // Themed elements
  themeSwap($$('.facet-pill'),'facet-pill-light','facet-pill-dark',isDark);
  themeSwap($$('.fb'),'fb-light','fb-dark',isDark);
  themeSwap($$('.trait-dot:not(.on)'),'trait-dot-light','trait-dot-dark',isDark);
  themeSwap($$('.trait-scroll-hint'),'hint-light','hint-dark',isDark);
  convo.classList.toggle('convo-line-light',!isDark);
  convo.classList.toggle('convo-line-dark',isDark);
  chatBar.classList.toggle('chat-bar-light',!isDark);
  chatBar.classList.toggle('chat-bar-dark',isDark);
  chatInput.classList.toggle('input-light',!isDark);
  chatInput.classList.toggle('input-dark',isDark);

  // Show chat bar after scrolling past 40%
  chatBar.classList.toggle('show',p>0.35);
}

window.addEventListener('scroll',applyTheme);

// ===== SCROLL-TRIGGERED MESSAGES =====
const obs=new IntersectionObserver(es=>{
  es.forEach(e=>{if(e.isIntersecting)e.target.classList.add('vis')});
},{threshold:0.12,rootMargin:'0px 0px -30px 0px'});
$$('.mg[data-r]').forEach(g=>obs.observe(g));

// ===== TRAIT CAROUSEL DOTS =====
const tScroll=$('#tScroll');
const tDotsC=$('#tDots');
for(let i=0;i<5;i++){
  const d=document.createElement('div');
  d.className='trait-dot trait-dot-light'+(i===0?' on':'');
  d.addEventListener('click',()=>{tScroll.scrollTo({left:i*tScroll.offsetWidth,behavior:'smooth'})});
  tDotsC.appendChild(d);
}
const tDots=$$('.trait-dot');
tScroll.addEventListener('scroll',()=>{
  const idx=Math.round(tScroll.scrollLeft/tScroll.offsetWidth);
  tDots.forEach((d,i)=>{d.classList.toggle('on',i===idx)});
});

// Initial
window.dispatchEvent(new Event('scroll'));
</script>
</body>
</html>
