import{S as yt,s as bt,h as ge,g as xt,n as Ie,a as wt,r as a,b as Et,d as Ct,c as Le,j as c,R as _e,e as St,f as Nt,i as Pt}from"./main-DCnvL1B2.js";import{c as D,a as Rt,u as k,B}from"./button-C1AgKP-N.js";import{u as Fe}from"./use-auth-BuLFPJAx.js";var Dt=class extends yt{#t;#r=void 0;#e;#n;constructor(t,n){super(),this.#t=t,this.setOptions(n),this.bindMethods(),this.#o()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const n=this.options;this.options=this.#t.defaultMutationOptions(t),bt(this.options,n)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#e,observer:this}),n?.mutationKey&&this.options.mutationKey&&ge(n.mutationKey)!==ge(this.options.mutationKey)?this.reset():this.#e?.state.status==="pending"&&this.#e.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#e?.removeObserver(this)}onMutationUpdate(t){this.#o(),this.#s(t)}getCurrentResult(){return this.#r}reset(){this.#e?.removeObserver(this),this.#e=void 0,this.#o(),this.#s()}mutate(t,n){return this.#n=n,this.#e?.removeObserver(this),this.#e=this.#t.getMutationCache().build(this.#t,this.options),this.#e.addObserver(this),this.#e.execute(t)}#o(){const t=this.#e?.state??xt();this.#r={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#s(t){Ie.batch(()=>{if(this.#n&&this.hasListeners()){const n=this.#r.variables,r=this.#r.context,o={client:this.#t,meta:this.options.meta,mutationKey:this.options.mutationKey};if(t?.type==="success"){try{this.#n.onSuccess?.(t.data,n,r,o)}catch(s){Promise.reject(s)}try{this.#n.onSettled?.(t.data,null,n,r,o)}catch(s){Promise.reject(s)}}else if(t?.type==="error"){try{this.#n.onError?.(t.error,n,r,o)}catch(s){Promise.reject(s)}try{this.#n.onSettled?.(void 0,t.error,n,r,o)}catch(s){Promise.reject(s)}}}this.listeners.forEach(n=>{n(this.#r)})})}};function jt(e,t){const n=wt(),[r]=a.useState(()=>new Dt(n,e));a.useEffect(()=>{r.setOptions(e)},[r,e]);const o=a.useSyncExternalStore(a.useCallback(l=>r.subscribe(Ie.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=a.useCallback((l,i)=>{r.mutate(l,i).catch(Et)},[r]);if(o.error&&Ct(r.options.throwOnError,[o.error]))throw o.error;return{...o,mutate:s,mutateAsync:o.mutate}}const Mt=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ue=Le("loader-circle",Mt);const Ot=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],At=Le("send",Ot);function ye({className:e,...t}){return c.jsx("div",{"data-slot":"card",className:D("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function be({className:e,...t}){return c.jsx("div",{"data-slot":"card-header",className:D("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function xe({className:e,...t}){return c.jsx("div",{"data-slot":"card-title",className:D("leading-none font-semibold",e),...t})}function we({className:e,...t}){return c.jsx("div",{"data-slot":"card-content",className:D("px-6",e),...t})}const Tt="http://localhost:4000";async function kt(e,t){const n=await fetch(`${Tt}${e}`,{...t,headers:{"Content-Type":"application/json",...t?.headers},credentials:"include"});if(!n.ok){const r=await n.json().catch(()=>({message:n.statusText}));throw new Error(r.message||`HTTP ${n.status}: ${n.statusText}`)}return n.json()}function It(){return jt({mutationKey:["assessment","sendMessage"],mutationFn:async e=>kt("/api/assessment/message",{method:"POST",body:JSON.stringify(e)})})}function Ee(e){const t={adventure:["That adventurous nature often correlates with high openness to experience. Do you find yourself seeking out novel experiences in other ways too?","I'm curious — when things don't go as planned during an adventure, how do you typically react?"],challenge:["Interesting. It sounds like you enjoy pushing yourself. How do you usually handle setbacks when pursuing these challenges?","Do you apply that same challenge-seeking approach to your personal and professional goals?"],creative:["Creativity is fascinating. How important is it for you to express your creative side in your daily life?","Do you see creativity as something essential to your happiness, or more as an occasional outlet?"],relationship:["Relationships are central to who we are. How would your close friends describe you?","Do you find it easy to open up to people, or do you prefer to keep things more private?"],work:["Work takes up a significant portion of our lives. What aspects of your work are most fulfilling?","Do you prefer structure and planning, or do you like more flexibility in how you approach tasks?"],default:["Tell me more about that. What draws you to this interest?","That's insightful. Do you find that this applies to other areas of your life as well?","I appreciate you sharing that. How would you say this shapes who you are?"]},n=e.toLowerCase();return n.includes("adventure")||n.includes("discover")||n.includes("explore")?t.adventure[Math.floor(Math.random()*t.adventure.length)]:n.includes("challenge")||n.includes("difficult")||n.includes("hard")?t.challenge[Math.floor(Math.random()*t.challenge.length)]:n.includes("create")||n.includes("creative")||n.includes("art")?t.creative[Math.floor(Math.random()*t.creative.length)]:n.includes("friend")||n.includes("relation")||n.includes("people")?t.relationship[Math.floor(Math.random()*t.relationship.length)]:n.includes("work")||n.includes("job")||n.includes("career")?t.work[Math.floor(Math.random()*t.work.length)]:t.default[Math.floor(Math.random()*t.default.length)]}function Lt(e){const[t,n]=a.useState([{id:"msg_init",role:"assistant",content:"Hi! I'm Nerin, your AI therapist. I'd like to understand you better. Let's start with something simple: What are you currently passionate about?",timestamp:new Date(Date.now()-5e3)}]),[r,o]=a.useState({openness:.58,conscientiousness:.42,extraversion:.55,agreeableness:.51,neuroticism:.38,opennessPrecision:58,conscientiousnessPrecision:42,extraversionPrecision:55,agreeablenessPrecision:51,neuroticismPrecision:38}),[s,l]=a.useState(!1),{mutate:i,isPending:m}=It(),d=a.useCallback(async h=>{if(!(!e||!h)){l(!0),n(u=>[...u,{id:`msg-${Date.now()}`,role:"user",content:h,timestamp:new Date}]);try{i({sessionId:e,message:h},{onSuccess:u=>{setTimeout(()=>{const g=u.response||Ee(h);n(y=>[...y,{id:`msg-${Date.now()}-response`,role:"assistant",content:g,timestamp:new Date}]),u.precision&&o({openness:u.precision.openness,conscientiousness:u.precision.conscientiousness,extraversion:u.precision.extraversion,agreeableness:u.precision.agreeableness,neuroticism:u.precision.neuroticism,opennessPrecision:Math.round(u.precision.openness*100),conscientiousnessPrecision:Math.round(u.precision.conscientiousness*100),extraversionPrecision:Math.round(u.precision.extraversion*100),agreeablenessPrecision:Math.round(u.precision.agreeableness*100),neuroticismPrecision:Math.round(u.precision.neuroticism*100)}),l(!1)},1e3+Math.random()*1e3)},onError:u=>{console.error("Failed to send message:",u);const g=Ee(h);n(y=>[...y,{id:`msg-${Date.now()}-response`,role:"assistant",content:g,timestamp:new Date}]),o(y=>{const x=Math.min(y.openness+Math.random()*.04,.95),f=Math.min(y.conscientiousness+Math.random()*.04,.95),v=Math.min(y.extraversion+Math.random()*.04,.95),p=Math.min(y.agreeableness+Math.random()*.04,.95),b=Math.min(y.neuroticism+Math.random()*.04,.95);return{openness:x,conscientiousness:f,extraversion:v,agreeableness:p,neuroticism:b,opennessPrecision:Math.round(x*100),conscientiousnessPrecision:Math.round(f*100),extraversionPrecision:Math.round(v*100),agreeablenessPrecision:Math.round(p*100),neuroticismPrecision:Math.round(b*100)}}),l(!1)}})}catch(u){console.error("Failed to send message:",u),l(!1)}}},[e,i]);return{messages:t,traits:r,isLoading:s||m,isCompleted:!1,sendMessage:d}}function O(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e?.(o),n===!1||!o.defaultPrevented)return t?.(o)}}function _t(e,t){const n=a.createContext(t),r=s=>{const{children:l,...i}=s,m=a.useMemo(()=>i,Object.values(i));return c.jsx(n.Provider,{value:m,children:l})};r.displayName=e+"Provider";function o(s){const l=a.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,o]}function Ft(e,t=[]){let n=[];function r(s,l){const i=a.createContext(l),m=n.length;n=[...n,l];const d=u=>{const{scope:g,children:y,...x}=u,f=g?.[e]?.[m]||i,v=a.useMemo(()=>x,Object.values(x));return c.jsx(f.Provider,{value:v,children:y})};d.displayName=s+"Provider";function h(u,g){const y=g?.[e]?.[m]||i,x=a.useContext(y);if(x)return x;if(l!==void 0)return l;throw new Error(`\`${u}\` must be used within \`${s}\``)}return[d,h]}const o=()=>{const s=n.map(l=>a.createContext(l));return function(i){const m=i?.[e]||s;return a.useMemo(()=>({[`__scope${e}`]:{...i,[e]:m}}),[i,m])}};return o.scopeName=e,[r,Wt(o,...t)]}function Wt(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(s){const l=r.reduce((i,{useScope:m,scopeName:d})=>{const u=m(s)[`__scope${d}`];return{...i,...u}},{});return a.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}var U=globalThis?.document?a.useLayoutEffect:()=>{},$t=_e[" useId ".trim().toString()]||(()=>{}),Bt=0;function ne(e){const[t,n]=a.useState($t());return U(()=>{n(r=>r??String(Bt++))},[e]),e||(t?`radix-${t}`:"")}var Ut=_e[" useInsertionEffect ".trim().toString()]||U;function Kt({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,s,l]=Ht({defaultProp:t,onChange:n}),i=e!==void 0,m=i?e:o;{const h=a.useRef(e!==void 0);a.useEffect(()=>{const u=h.current;u!==i&&console.warn(`${r} is changing from ${u?"controlled":"uncontrolled"} to ${i?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=i},[i,r])}const d=a.useCallback(h=>{if(i){const u=Vt(h)?h(e):h;u!==e&&l.current?.(u)}else s(h)},[i,e,s,l]);return[m,d]}function Ht({defaultProp:e,onChange:t}){const[n,r]=a.useState(e),o=a.useRef(n),s=a.useRef(t);return Ut(()=>{s.current=t},[t]),a.useEffect(()=>{o.current!==n&&(s.current?.(n),o.current=n)},[n,o]),[n,r,s]}function Vt(e){return typeof e=="function"}function We(e){const t=zt(e),n=a.forwardRef((r,o)=>{const{children:s,...l}=r,i=a.Children.toArray(s),m=i.find(Gt);if(m){const d=m.props.children,h=i.map(u=>u===m?a.Children.count(d)>1?a.Children.only(null):a.isValidElement(d)?d.props.children:null:u);return c.jsx(t,{...l,ref:o,children:a.isValidElement(d)?a.cloneElement(d,void 0,h):null})}return c.jsx(t,{...l,ref:o,children:s})});return n.displayName=`${e}.Slot`,n}function zt(e){const t=a.forwardRef((n,r)=>{const{children:o,...s}=n;if(a.isValidElement(o)){const l=qt(o),i=Xt(s,o.props);return o.type!==a.Fragment&&(i.ref=r?Rt(r,l):l),a.cloneElement(o,i)}return a.Children.count(o)>1?a.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Yt=Symbol("radix.slottable");function Gt(e){return a.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Yt}function Xt(e,t){const n={...t};for(const r in t){const o=e[r],s=t[r];/^on[A-Z]/.test(r)?o&&s?n[r]=(...i)=>{const m=s(...i);return o(...i),m}:o&&(n[r]=o):r==="style"?n[r]={...o,...s}:r==="className"&&(n[r]=[o,s].filter(Boolean).join(" "))}return{...e,...n}}function qt(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Zt=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],j=Zt.reduce((e,t)=>{const n=We(`Primitive.${t}`),r=a.forwardRef((o,s)=>{const{asChild:l,...i}=o,m=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(m,{...i,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Qt(e,t){e&&St.flushSync(()=>e.dispatchEvent(t))}function K(e){const t=a.useRef(e);return a.useEffect(()=>{t.current=e}),a.useMemo(()=>(...n)=>t.current?.(...n),[])}function Jt(e,t=globalThis?.document){const n=K(e);a.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var en="DismissableLayer",de="dismissableLayer.update",tn="dismissableLayer.pointerDownOutside",nn="dismissableLayer.focusOutside",Ce,$e=a.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Be=a.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:s,onInteractOutside:l,onDismiss:i,...m}=e,d=a.useContext($e),[h,u]=a.useState(null),g=h?.ownerDocument??globalThis?.document,[,y]=a.useState({}),x=k(t,E=>u(E)),f=Array.from(d.layers),[v]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),p=f.indexOf(v),b=h?f.indexOf(h):-1,C=d.layersWithOutsidePointerEventsDisabled.size>0,w=b>=p,S=sn(E=>{const A=E.target,I=[...d.branches].some($=>$.contains(A));!w||I||(o?.(E),l?.(E),E.defaultPrevented||i?.())},g),N=an(E=>{const A=E.target;[...d.branches].some($=>$.contains(A))||(s?.(E),l?.(E),E.defaultPrevented||i?.())},g);return Jt(E=>{b===d.layers.size-1&&(r?.(E),!E.defaultPrevented&&i&&(E.preventDefault(),i()))},g),a.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Ce=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),Se(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=Ce)}},[h,g,n,d]),a.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),Se())},[h,d]),a.useEffect(()=>{const E=()=>y({});return document.addEventListener(de,E),()=>document.removeEventListener(de,E)},[]),c.jsx(j.div,{...m,ref:x,style:{pointerEvents:C?w?"auto":"none":void 0,...e.style},onFocusCapture:O(e.onFocusCapture,N.onFocusCapture),onBlurCapture:O(e.onBlurCapture,N.onBlurCapture),onPointerDownCapture:O(e.onPointerDownCapture,S.onPointerDownCapture)})});Be.displayName=en;var rn="DismissableLayerBranch",on=a.forwardRef((e,t)=>{const n=a.useContext($e),r=a.useRef(null),o=k(t,r);return a.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),c.jsx(j.div,{...e,ref:o})});on.displayName=rn;function sn(e,t=globalThis?.document){const n=K(e),r=a.useRef(!1),o=a.useRef(()=>{});return a.useEffect(()=>{const s=i=>{if(i.target&&!r.current){let m=function(){Ue(tn,n,d,{discrete:!0})};const d={originalEvent:i};i.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=m,t.addEventListener("click",o.current,{once:!0})):m()}else t.removeEventListener("click",o.current);r.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",s),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function an(e,t=globalThis?.document){const n=K(e),r=a.useRef(!1);return a.useEffect(()=>{const o=s=>{s.target&&!r.current&&Ue(nn,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Se(){const e=new CustomEvent(de);document.dispatchEvent(e)}function Ue(e,t,n,{discrete:r}){const o=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?Qt(o,s):o.dispatchEvent(s)}var re="focusScope.autoFocusOnMount",oe="focusScope.autoFocusOnUnmount",Ne={bubbles:!1,cancelable:!0},cn="FocusScope",Ke=a.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:s,...l}=e,[i,m]=a.useState(null),d=K(o),h=K(s),u=a.useRef(null),g=k(t,f=>m(f)),y=a.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;a.useEffect(()=>{if(r){let f=function(C){if(y.paused||!i)return;const w=C.target;i.contains(w)?u.current=w:M(u.current,{select:!0})},v=function(C){if(y.paused||!i)return;const w=C.relatedTarget;w!==null&&(i.contains(w)||M(u.current,{select:!0}))},p=function(C){if(document.activeElement===document.body)for(const S of C)S.removedNodes.length>0&&M(i)};document.addEventListener("focusin",f),document.addEventListener("focusout",v);const b=new MutationObserver(p);return i&&b.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",f),document.removeEventListener("focusout",v),b.disconnect()}}},[r,i,y.paused]),a.useEffect(()=>{if(i){Re.add(y);const f=document.activeElement;if(!i.contains(f)){const p=new CustomEvent(re,Ne);i.addEventListener(re,d),i.dispatchEvent(p),p.defaultPrevented||(ln(mn(He(i)),{select:!0}),document.activeElement===f&&M(i))}return()=>{i.removeEventListener(re,d),setTimeout(()=>{const p=new CustomEvent(oe,Ne);i.addEventListener(oe,h),i.dispatchEvent(p),p.defaultPrevented||M(f??document.body,{select:!0}),i.removeEventListener(oe,h),Re.remove(y)},0)}}},[i,d,h,y]);const x=a.useCallback(f=>{if(!n&&!r||y.paused)return;const v=f.key==="Tab"&&!f.altKey&&!f.ctrlKey&&!f.metaKey,p=document.activeElement;if(v&&p){const b=f.currentTarget,[C,w]=un(b);C&&w?!f.shiftKey&&p===w?(f.preventDefault(),n&&M(C,{select:!0})):f.shiftKey&&p===C&&(f.preventDefault(),n&&M(w,{select:!0})):p===b&&f.preventDefault()}},[n,r,y.paused]);return c.jsx(j.div,{tabIndex:-1,...l,ref:g,onKeyDown:x})});Ke.displayName=cn;function ln(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(M(r,{select:t}),document.activeElement!==n)return}function un(e){const t=He(e),n=Pe(t,e),r=Pe(t.reverse(),e);return[n,r]}function He(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Pe(e,t){for(const n of e)if(!dn(n,{upTo:t}))return n}function dn(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function fn(e){return e instanceof HTMLInputElement&&"select"in e}function M(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&fn(e)&&t&&e.select()}}var Re=hn();function hn(){let e=[];return{add(t){const n=e[0];t!==n&&n?.pause(),e=De(e,t),e.unshift(t)},remove(t){e=De(e,t),e[0]?.resume()}}}function De(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function mn(e){return e.filter(t=>t.tagName!=="A")}var pn="Portal",Ve=a.forwardRef((e,t)=>{const{container:n,...r}=e,[o,s]=a.useState(!1);U(()=>s(!0),[]);const l=n||o&&globalThis?.document?.body;return l?Nt.createPortal(c.jsx(j.div,{...r,ref:t}),l):null});Ve.displayName=pn;function vn(e,t){return a.useReducer((n,r)=>t[n][r]??n,e)}var J=e=>{const{present:t,children:n}=e,r=gn(t),o=typeof n=="function"?n({present:r.isPresent}):a.Children.only(n),s=k(r.ref,yn(o));return typeof n=="function"||r.isPresent?a.cloneElement(o,{ref:s}):null};J.displayName="Presence";function gn(e){const[t,n]=a.useState(),r=a.useRef(null),o=a.useRef(e),s=a.useRef("none"),l=e?"mounted":"unmounted",[i,m]=vn(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return a.useEffect(()=>{const d=V(r.current);s.current=i==="mounted"?d:"none"},[i]),U(()=>{const d=r.current,h=o.current;if(h!==e){const g=s.current,y=V(d);e?m("MOUNT"):y==="none"||d?.display==="none"?m("UNMOUNT"):m(h&&g!==y?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,m]),U(()=>{if(t){let d;const h=t.ownerDocument.defaultView??window,u=y=>{const f=V(r.current).includes(CSS.escape(y.animationName));if(y.target===t&&f&&(m("ANIMATION_END"),!o.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",d=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},g=y=>{y.target===t&&(s.current=V(r.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{h.clearTimeout(d),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(i),ref:a.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function V(e){return e?.animationName||"none"}function yn(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var se=0;function bn(){a.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??je()),document.body.insertAdjacentElement("beforeend",e[1]??je()),se++,()=>{se===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),se--}},[])}function je(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var R=function(){return R=Object.assign||function(t){for(var n,r=1,o=arguments.length;r<o;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},R.apply(this,arguments)};function ze(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function xn(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,s;r<o;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var q="right-scroll-bar-position",Z="width-before-scroll-bar",wn="with-scroll-bars-hidden",En="--removed-body-scroll-bar-size";function ae(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function Cn(e,t){var n=a.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var o=n.value;o!==r&&(n.value=r,n.callback(r,o))}}}})[0];return n.callback=t,n.facade}var Sn=typeof window<"u"?a.useLayoutEffect:a.useEffect,Me=new WeakMap;function Nn(e,t){var n=Cn(null,function(r){return e.forEach(function(o){return ae(o,r)})});return Sn(function(){var r=Me.get(n);if(r){var o=new Set(r),s=new Set(e),l=n.current;o.forEach(function(i){s.has(i)||ae(i,null)}),s.forEach(function(i){o.has(i)||ae(i,l)})}Me.set(n,e)},[e]),n}function Pn(e){return e}function Rn(e,t){t===void 0&&(t=Pn);var n=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var l=t(s,r);return n.push(l),function(){n=n.filter(function(i){return i!==l})}},assignSyncMedium:function(s){for(r=!0;n.length;){var l=n;n=[],l.forEach(s)}n={push:function(i){return s(i)},filter:function(){return n}}},assignMedium:function(s){r=!0;var l=[];if(n.length){var i=n;n=[],i.forEach(s),l=n}var m=function(){var h=l;l=[],h.forEach(s)},d=function(){return Promise.resolve().then(m)};d(),n={push:function(h){l.push(h),d()},filter:function(h){return l=l.filter(h),n}}}};return o}function Dn(e){e===void 0&&(e={});var t=Rn(null);return t.options=R({async:!0,ssr:!1},e),t}var Ye=function(e){var t=e.sideCar,n=ze(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return a.createElement(r,R({},n))};Ye.isSideCarExport=!0;function jn(e,t){return e.useMedium(t),Ye}var Ge=Dn(),ie=function(){},ee=a.forwardRef(function(e,t){var n=a.useRef(null),r=a.useState({onScrollCapture:ie,onWheelCapture:ie,onTouchMoveCapture:ie}),o=r[0],s=r[1],l=e.forwardProps,i=e.children,m=e.className,d=e.removeScrollBar,h=e.enabled,u=e.shards,g=e.sideCar,y=e.noRelative,x=e.noIsolation,f=e.inert,v=e.allowPinchZoom,p=e.as,b=p===void 0?"div":p,C=e.gapMode,w=ze(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=g,N=Nn([n,t]),E=R(R({},w),o);return a.createElement(a.Fragment,null,h&&a.createElement(S,{sideCar:Ge,removeScrollBar:d,shards:u,noRelative:y,noIsolation:x,inert:f,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:C}),l?a.cloneElement(a.Children.only(i),R(R({},E),{ref:N})):a.createElement(b,R({},E,{className:m,ref:N}),i))});ee.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ee.classNames={fullWidth:Z,zeroRight:q};var Mn=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function On(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=Mn();return t&&e.setAttribute("nonce",t),e}function An(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Tn(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var kn=function(){var e=0,t=null;return{add:function(n){e==0&&(t=On())&&(An(t,n),Tn(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},In=function(){var e=kn();return function(t,n){a.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Xe=function(){var e=In(),t=function(n){var r=n.styles,o=n.dynamic;return e(r,o),null};return t},Ln={left:0,top:0,right:0,gap:0},ce=function(e){return parseInt(e||"",10)||0},_n=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],o=t[e==="padding"?"paddingRight":"marginRight"];return[ce(n),ce(r),ce(o)]},Fn=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Ln;var t=_n(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},Wn=Xe(),W="data-scroll-locked",$n=function(e,t,n,r){var o=e.left,s=e.top,l=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(wn,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat(W,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(q,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Z,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(q," .").concat(q,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Z," .").concat(Z,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(W,`] {
    `).concat(En,": ").concat(i,`px;
  }
`)},Oe=function(){var e=parseInt(document.body.getAttribute(W)||"0",10);return isFinite(e)?e:0},Bn=function(){a.useEffect(function(){return document.body.setAttribute(W,(Oe()+1).toString()),function(){var e=Oe()-1;e<=0?document.body.removeAttribute(W):document.body.setAttribute(W,e.toString())}},[])},Un=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,o=r===void 0?"margin":r;Bn();var s=a.useMemo(function(){return Fn(o)},[o]);return a.createElement(Wn,{styles:$n(s,!t,o,n?"":"!important")})},fe=!1;if(typeof window<"u")try{var z=Object.defineProperty({},"passive",{get:function(){return fe=!0,!0}});window.addEventListener("test",z,z),window.removeEventListener("test",z,z)}catch{fe=!1}var L=fe?{passive:!1}:!1,Kn=function(e){return e.tagName==="TEXTAREA"},qe=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Kn(e)&&n[t]==="visible")},Hn=function(e){return qe(e,"overflowY")},Vn=function(e){return qe(e,"overflowX")},Ae=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=Ze(e,r);if(o){var s=Qe(e,r),l=s[1],i=s[2];if(l>i)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},zn=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Yn=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Ze=function(e,t){return e==="v"?Hn(t):Vn(t)},Qe=function(e,t){return e==="v"?zn(t):Yn(t)},Gn=function(e,t){return e==="h"&&t==="rtl"?-1:1},Xn=function(e,t,n,r,o){var s=Gn(e,window.getComputedStyle(t).direction),l=s*r,i=n.target,m=t.contains(i),d=!1,h=l>0,u=0,g=0;do{if(!i)break;var y=Qe(e,i),x=y[0],f=y[1],v=y[2],p=f-v-s*x;(x||p)&&Ze(e,i)&&(u+=p,g+=x);var b=i.parentNode;i=b&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE?b.host:b}while(!m&&i!==document.body||m&&(t.contains(i)||t===i));return(h&&Math.abs(u)<1||!h&&Math.abs(g)<1)&&(d=!0),d},Y=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Te=function(e){return[e.deltaX,e.deltaY]},ke=function(e){return e&&"current"in e?e.current:e},qn=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Zn=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Qn=0,_=[];function Jn(e){var t=a.useRef([]),n=a.useRef([0,0]),r=a.useRef(),o=a.useState(Qn++)[0],s=a.useState(Xe)[0],l=a.useRef(e);a.useEffect(function(){l.current=e},[e]),a.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(o));var f=xn([e.lockRef.current],(e.shards||[]).map(ke),!0).filter(Boolean);return f.forEach(function(v){return v.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),f.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(o))})}}},[e.inert,e.lockRef.current,e.shards]);var i=a.useCallback(function(f,v){if("touches"in f&&f.touches.length===2||f.type==="wheel"&&f.ctrlKey)return!l.current.allowPinchZoom;var p=Y(f),b=n.current,C="deltaX"in f?f.deltaX:b[0]-p[0],w="deltaY"in f?f.deltaY:b[1]-p[1],S,N=f.target,E=Math.abs(C)>Math.abs(w)?"h":"v";if("touches"in f&&E==="h"&&N.type==="range")return!1;var A=window.getSelection(),I=A&&A.anchorNode,$=I?I===N||I.contains(N):!1;if($)return!1;var H=Ae(E,N);if(!H)return!0;if(H?S=E:(S=E==="v"?"h":"v",H=Ae(E,N)),!H)return!1;if(!r.current&&"changedTouches"in f&&(C||w)&&(r.current=S),!S)return!0;var ve=r.current||S;return Xn(ve,v,f,ve==="h"?C:w)},[]),m=a.useCallback(function(f){var v=f;if(!(!_.length||_[_.length-1]!==s)){var p="deltaY"in v?Te(v):Y(v),b=t.current.filter(function(S){return S.name===v.type&&(S.target===v.target||v.target===S.shadowParent)&&qn(S.delta,p)})[0];if(b&&b.should){v.cancelable&&v.preventDefault();return}if(!b){var C=(l.current.shards||[]).map(ke).filter(Boolean).filter(function(S){return S.contains(v.target)}),w=C.length>0?i(v,C[0]):!l.current.noIsolation;w&&v.cancelable&&v.preventDefault()}}},[]),d=a.useCallback(function(f,v,p,b){var C={name:f,delta:v,target:p,should:b,shadowParent:er(p)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(w){return w!==C})},1)},[]),h=a.useCallback(function(f){n.current=Y(f),r.current=void 0},[]),u=a.useCallback(function(f){d(f.type,Te(f),f.target,i(f,e.lockRef.current))},[]),g=a.useCallback(function(f){d(f.type,Y(f),f.target,i(f,e.lockRef.current))},[]);a.useEffect(function(){return _.push(s),e.setCallbacks({onScrollCapture:u,onWheelCapture:u,onTouchMoveCapture:g}),document.addEventListener("wheel",m,L),document.addEventListener("touchmove",m,L),document.addEventListener("touchstart",h,L),function(){_=_.filter(function(f){return f!==s}),document.removeEventListener("wheel",m,L),document.removeEventListener("touchmove",m,L),document.removeEventListener("touchstart",h,L)}},[]);var y=e.removeScrollBar,x=e.inert;return a.createElement(a.Fragment,null,x?a.createElement(s,{styles:Zn(o)}):null,y?a.createElement(Un,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function er(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const tr=jn(Ge,Jn);var Je=a.forwardRef(function(e,t){return a.createElement(ee,R({},e,{ref:t,sideCar:tr}))});Je.classNames=ee.classNames;var nr=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},F=new WeakMap,G=new WeakMap,X={},le=0,et=function(e){return e&&(e.host||et(e.parentNode))},rr=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=et(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},or=function(e,t,n,r){var o=rr(t,Array.isArray(e)?e:[e]);X[n]||(X[n]=new WeakMap);var s=X[n],l=[],i=new Set,m=new Set(o),d=function(u){!u||i.has(u)||(i.add(u),d(u.parentNode))};o.forEach(d);var h=function(u){!u||m.has(u)||Array.prototype.forEach.call(u.children,function(g){if(i.has(g))h(g);else try{var y=g.getAttribute(r),x=y!==null&&y!=="false",f=(F.get(g)||0)+1,v=(s.get(g)||0)+1;F.set(g,f),s.set(g,v),l.push(g),f===1&&x&&G.set(g,!0),v===1&&g.setAttribute(n,"true"),x||g.setAttribute(r,"true")}catch(p){console.error("aria-hidden: cannot operate on ",g,p)}})};return h(t),i.clear(),le++,function(){l.forEach(function(u){var g=F.get(u)-1,y=s.get(u)-1;F.set(u,g),s.set(u,y),g||(G.has(u)||u.removeAttribute(r),G.delete(u)),y||u.removeAttribute(n)}),le--,le||(F=new WeakMap,F=new WeakMap,G=new WeakMap,X={})}},sr=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),o=nr(e);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),or(r,o,n,"aria-hidden")):function(){return null}},te="Dialog",[tt]=Ft(te),[ar,P]=tt(te),nt=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:o,onOpenChange:s,modal:l=!0}=e,i=a.useRef(null),m=a.useRef(null),[d,h]=Kt({prop:r,defaultProp:o??!1,onChange:s,caller:te});return c.jsx(ar,{scope:t,triggerRef:i,contentRef:m,contentId:ne(),titleId:ne(),descriptionId:ne(),open:d,onOpenChange:h,onOpenToggle:a.useCallback(()=>h(u=>!u),[h]),modal:l,children:n})};nt.displayName=te;var rt="DialogTrigger",ir=a.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=P(rt,n),s=k(t,o.triggerRef);return c.jsx(j.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":pe(o.open),...r,ref:s,onClick:O(e.onClick,o.onOpenToggle)})});ir.displayName=rt;var he="DialogPortal",[cr,ot]=tt(he,{forceMount:void 0}),st=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:o}=e,s=P(he,t);return c.jsx(cr,{scope:t,forceMount:n,children:a.Children.map(r,l=>c.jsx(J,{present:n||s.open,children:c.jsx(Ve,{asChild:!0,container:o,children:l})}))})};st.displayName=he;var Q="DialogOverlay",at=a.forwardRef((e,t)=>{const n=ot(Q,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=P(Q,e.__scopeDialog);return s.modal?c.jsx(J,{present:r||s.open,children:c.jsx(ur,{...o,ref:t})}):null});at.displayName=Q;var lr=We("DialogOverlay.RemoveScroll"),ur=a.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=P(Q,n);return c.jsx(Je,{as:lr,allowPinchZoom:!0,shards:[o.contentRef],children:c.jsx(j.div,{"data-state":pe(o.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),T="DialogContent",it=a.forwardRef((e,t)=>{const n=ot(T,e.__scopeDialog),{forceMount:r=n.forceMount,...o}=e,s=P(T,e.__scopeDialog);return c.jsx(J,{present:r||s.open,children:s.modal?c.jsx(dr,{...o,ref:t}):c.jsx(fr,{...o,ref:t})})});it.displayName=T;var dr=a.forwardRef((e,t)=>{const n=P(T,e.__scopeDialog),r=a.useRef(null),o=k(t,n.contentRef,r);return a.useEffect(()=>{const s=r.current;if(s)return sr(s)},[]),c.jsx(ct,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:O(e.onCloseAutoFocus,s=>{s.preventDefault(),n.triggerRef.current?.focus()}),onPointerDownOutside:O(e.onPointerDownOutside,s=>{const l=s.detail.originalEvent,i=l.button===0&&l.ctrlKey===!0;(l.button===2||i)&&s.preventDefault()}),onFocusOutside:O(e.onFocusOutside,s=>s.preventDefault())})}),fr=a.forwardRef((e,t)=>{const n=P(T,e.__scopeDialog),r=a.useRef(!1),o=a.useRef(!1);return c.jsx(ct,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(r.current||n.triggerRef.current?.focus(),s.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const l=s.target;n.triggerRef.current?.contains(l)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&o.current&&s.preventDefault()}})}),ct=a.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:s,...l}=e,i=P(T,n),m=a.useRef(null),d=k(t,m);return bn(),c.jsxs(c.Fragment,{children:[c.jsx(Ke,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:s,children:c.jsx(Be,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":pe(i.open),...l,ref:d,onDismiss:()=>i.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(hr,{titleId:i.titleId}),c.jsx(pr,{contentRef:m,descriptionId:i.descriptionId})]})]})}),me="DialogTitle",lt=a.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=P(me,n);return c.jsx(j.h2,{id:o.titleId,...r,ref:t})});lt.displayName=me;var ut="DialogDescription",dt=a.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=P(ut,n);return c.jsx(j.p,{id:o.descriptionId,...r,ref:t})});dt.displayName=ut;var ft="DialogClose",ht=a.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,o=P(ft,n);return c.jsx(j.button,{type:"button",...r,ref:t,onClick:O(e.onClick,()=>o.onOpenChange(!1))})});ht.displayName=ft;function pe(e){return e?"open":"closed"}var mt="DialogTitleWarning",[Kr,pt]=_t(mt,{contentName:T,titleName:me,docsSlug:"dialog"}),hr=({titleId:e})=>{const t=pt(mt),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return a.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},mr="DialogDescriptionWarning",pr=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${pt(mr).contentName}}.`;return a.useEffect(()=>{const o=e.current?.getAttribute("aria-describedby");t&&o&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},vr=nt,gr=st,yr=at,br=it,xr=lt,wr=dt,vt=ht;const Er=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gt=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();var Cr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Sr=a.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:s,iconNode:l,...i},m)=>a.createElement("svg",{ref:m,...Cr,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:gt("lucide",o),...i},[...l.map(([d,h])=>a.createElement(d,h)),...Array.isArray(s)?s:[s]]));const Nr=(e,t)=>{const n=a.forwardRef(({className:r,...o},s)=>a.createElement(Sr,{ref:s,iconNode:t,className:gt(`lucide-${Er(e)}`,r),...o}));return n.displayName=`${e}`,n};const Pr=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Rr=Nr("X",Pr);function Dr({...e}){return c.jsx(vr,{"data-slot":"dialog",...e})}function jr({...e}){return c.jsx(gr,{"data-slot":"dialog-portal",...e})}function Mr({className:e,...t}){return c.jsx(yr,{"data-slot":"dialog-overlay",className:D("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...t})}function Or({className:e,children:t,showCloseButton:n=!0,...r}){return c.jsxs(jr,{"data-slot":"dialog-portal",children:[c.jsx(Mr,{}),c.jsxs(br,{"data-slot":"dialog-content",className:D("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",e),...r,children:[t,n&&c.jsxs(vt,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[c.jsx(Rr,{}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]})}function Ar({className:e,...t}){return c.jsx("div",{"data-slot":"dialog-header",className:D("flex flex-col gap-2 text-center sm:text-left",e),...t})}function Tr({className:e,showCloseButton:t=!1,children:n,...r}){return c.jsxs("div",{"data-slot":"dialog-footer",className:D("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...r,children:[n,t&&c.jsx(vt,{asChild:!0,children:c.jsx(B,{variant:"outline",children:"Close"})})]})}function kr({className:e,...t}){return c.jsx(xr,{"data-slot":"dialog-title",className:D("text-lg leading-none font-semibold",e),...t})}function Ir({className:e,...t}){return c.jsx(wr,{"data-slot":"dialog-description",className:D("text-muted-foreground text-sm",e),...t})}function Lr({isOpen:e,sessionId:t,onClose:n}){const{signUp:r}=Fe(),[o,s]=a.useState(""),[l,i]=a.useState(""),[m,d]=a.useState(null),[h,u]=a.useState(!1),[g,y]=a.useState(!1),x=v=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v),f=async v=>{if(v.preventDefault(),d(null),!x(o)){d("Please enter a valid email address");return}if(l.length<12){d("Password must be at least 12 characters");return}u(!0);try{await r.email(o,l,void 0,t),y(!0),setTimeout(()=>{n()},1500)}catch(p){const b=p instanceof Error?p.message:String(p);d(b)}finally{u(!1)}};return c.jsx(Dr,{open:e,onOpenChange:v=>!v&&n(),children:c.jsxs(Or,{className:"bg-slate-800 border-slate-700 sm:max-w-md",children:[c.jsxs(Ar,{children:[c.jsx(kr,{className:"text-white text-xl",children:"Save your results?"}),c.jsx(Ir,{className:"text-slate-300",children:"Sign up to continue and keep your personality insights"})]}),g?c.jsxs("div",{className:"py-6 text-center",children:[c.jsx("div",{className:"text-green-400 text-lg font-medium mb-2",children:"✓ Your results are being saved!"}),c.jsx("p",{className:"text-slate-300 text-sm",children:"You can now access them anytime"})]}):c.jsxs("form",{onSubmit:f,className:"space-y-4",children:[m&&c.jsx("div",{className:"bg-red-900/20 border border-red-700/30 text-red-300 p-3 rounded text-sm",children:m}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"modal-email",className:"block text-sm font-medium text-slate-300 mb-1",children:"Email"}),c.jsx("input",{id:"modal-email",type:"email",value:o,onChange:v=>s(v.target.value),required:!0,placeholder:"your.email@example.com",className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 text-white rounded-lg placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"})]}),c.jsxs("div",{children:[c.jsx("label",{htmlFor:"modal-password",className:"block text-sm font-medium text-slate-300 mb-1",children:"Password"}),c.jsx("input",{id:"modal-password",type:"password",value:l,onChange:v=>i(v.target.value),required:!0,minLength:12,placeholder:"At least 12 characters",className:"w-full px-4 py-2 bg-slate-700 border border-slate-600 text-white rounded-lg placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent"}),c.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Minimum 12 characters (NIST 2025)"})]}),c.jsxs(Tr,{className:"flex flex-col gap-2 sm:flex-col",children:[c.jsx(B,{type:"submit",disabled:h,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white",children:h?"Signing up...":"Sign Up"}),c.jsx(B,{type:"button",variant:"ghost",onClick:n,className:"w-full text-slate-300 hover:text-white hover:bg-slate-700/50",children:"Continue without account"})]})]})]})})}const _r={opennessPrecision:"Openness",conscientiousnessPrecision:"Conscientiousness",extraversionPrecision:"Extraversion",agreeablenessPrecision:"Agreeableness",neuroticismPrecision:"Neuroticism"};function Fr({sessionId:e}){const[t,n]=a.useState(""),r=a.useRef(null),{messages:o,traits:s,isLoading:l,isCompleted:i,sendMessage:m}=Lt(e),{isAuthenticated:d}=Fe(),[h,u]=a.useState(!1),[g,y]=a.useState(!1);a.useEffect(()=>{r.current?.scrollIntoView({behavior:"smooth"})}),a.useEffect(()=>{o.filter(b=>b.role==="user").length===1&&!g&&!d&&(u(!0),y(!0))},[o,g,d]);const x=async()=>{!t.trim()||l||(await m(t),n(""))},f=async()=>{l||await m()},v=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),x())};return c.jsxs(c.Fragment,{children:[c.jsx(Lr,{isOpen:h,sessionId:e,onClose:()=>u(!1)}),c.jsxs("div",{className:"h-screen flex flex-col bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900",children:[c.jsxs("div",{className:"bg-slate-800/50 border-b border-slate-700 px-6 py-4 shadow-sm backdrop-blur-sm",children:[c.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-400 bg-clip-text text-transparent",children:"Big Five Personality Assessment"}),c.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Session ID: ",c.jsx("code",{className:"bg-slate-700 px-2 py-1 rounded text-gray-300",children:e})]})]}),c.jsxs("div",{className:"flex-1 overflow-hidden flex gap-4 p-4",children:[c.jsxs("div",{className:"flex-1 flex flex-col",children:[c.jsxs("div",{className:"flex-1 overflow-y-auto space-y-4 mb-4",children:[o.length===0?c.jsx("div",{className:"h-full flex items-center justify-center",children:c.jsxs(ye,{className:"w-full max-w-md bg-slate-800/50 border-slate-700",children:[c.jsx(be,{children:c.jsx(xe,{className:"text-center text-white",children:"Welcome to Personality Assessment"})}),c.jsxs(we,{className:"space-y-4",children:[c.jsx("p",{className:"text-gray-300 text-center",children:"The AI therapist will ask you questions to evaluate your personality across five key dimensions. Ready to begin?"}),c.jsx(B,{onClick:f,disabled:l,className:"w-full bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:l?c.jsxs(c.Fragment,{children:[c.jsx(ue,{className:"mr-2 h-4 w-4 animate-spin"}),"Starting..."]}):"Start Assessment"})]})]})}):o.map(p=>c.jsx("div",{className:`flex ${p.role==="user"?"justify-end":"justify-start"}`,children:c.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${p.role==="user"?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"bg-slate-700/50 border border-slate-600 text-gray-100"}`,children:[c.jsx("p",{className:"text-sm",children:p.content}),c.jsx("p",{className:`text-xs mt-1 ${p.role==="user"?"text-blue-100":"text-gray-400"}`,children:p.timestamp?.toLocaleTimeString()||new Date(p.createdAt||"").toLocaleTimeString()})]})},p.id)),c.jsx("div",{ref:r})]}),c.jsx("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4 backdrop-blur-sm",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:t,onChange:p=>n(p.target.value),onKeyDown:v,placeholder:"Type your response here...",disabled:l||i,className:"flex-1 px-4 py-2 bg-slate-700 border border-slate-600 text-white rounded-lg placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent disabled:opacity-50 disabled:cursor-not-allowed"}),c.jsx(B,{onClick:x,disabled:!t.trim()||l||i,size:"sm",className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600",children:l?c.jsx(ue,{className:"h-4 w-4 animate-spin"}):c.jsx(At,{className:"h-4 w-4"})})]})})]}),s&&c.jsx("div",{className:"w-80 flex flex-col",children:c.jsxs(ye,{className:"bg-slate-800/50 border-slate-700",children:[c.jsx(be,{children:c.jsx(xe,{className:"text-lg text-white",children:"Current Scores"})}),c.jsxs(we,{className:"space-y-4",children:[Object.entries(_r).map(([p,b])=>{const C=s[p],w=Math.round(C*100),S=w>=90?"bg-green-500":w>=70?"bg-yellow-500":"bg-orange-500";return c.jsxs("div",{children:[c.jsxs("div",{className:"flex justify-between mb-2",children:[c.jsx("span",{className:"text-sm font-medium text-gray-300",children:b}),c.jsxs("span",{className:"text-sm font-bold text-gray-100",children:[w,"%"]})]}),c.jsx("div",{className:"w-full bg-slate-700 rounded-full h-2",children:c.jsx("div",{className:`h-2 rounded-full transition-all ${S}`,style:{width:`${w}%`}})})]},p)}),i]})]})})]})]})]})}function Hr(){const{sessionId:e}=Pt.useSearch();return e?c.jsx(Fr,{sessionId:e}):c.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx(ue,{className:"h-12 w-12 animate-spin text-blue-500 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Creating assessment session..."})]})})}export{Hr as component};
